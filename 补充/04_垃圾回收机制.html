<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>垃圾回收机制</title>
    </head>
    <body>
        <script>
            // 作用域：全局，局部
            // 局部作用域：函数定义的时候产生，函数定义好了就一直存在，不会反复定义
            function fun() {}

            // 垃圾回收机制 gc，garbage collection
            // 垃圾回收是一个循环机制
            // 计数清除：IE低版本，老的Chrome
            // 看内存的地址身上有几个指针指向，当一块内存地址身上指针个数为0，说明这块内存马上要被回收释放
            var obj = { name: "boke" };
            obj = null;

            // 计数清除无法回收
            var obj1 = {
                a: obj2
            };
            var obj2 = {
                a: obj1
            };

            // 标记清除
            // 进入到代码执行的环境以后检测到需要使用的变量就在其身上加一个进场标记
            // 在代码执行完的时候（函数），就会在之前加标记的变量身上再添加一个出场标记
            function fun() {
                var a = 1;
                var b = 2;
                console.log(a);
                console.log(b);
            }
            fun();
        </script>
    </body>
</html>
